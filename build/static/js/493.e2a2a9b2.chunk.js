"use strict";(self.webpackChunkakademi=self.webpackChunkakademi||[]).push([[493],{95848:(e,n,t)=>{t.r(n),t.d(n,{default:()=>Z});var o=t(72791),r=t(78687),a=t(57689),s=t(11087),i=t(65093),l=t(56355);const c=t.p+"static/media/bg1.0368afcbc417dc41d807.png";t(90289),t(68364);const d=t.p+"static/media/pol.f84d809c5d1ad9dbcd2b.jpg";var u=t(41410),m=t(54164),v=t(81694),f=t.n(v);var h=!1;if("undefined"!==typeof window){var p={get passive(){h=!0}};window.addEventListener("testPassive",null,p),window.removeEventListener("testPassive",null,p)}var g="undefined"!==typeof window&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&window.navigator.maxTouchPoints>1),b=[],y=!1,x=-1,j=void 0,w=void 0,N=function(e){return b.some((function(n){return!(!n.options.allowTouchMove||!n.options.allowTouchMove(e))}))},E=function(e){var n=e||window.event;return!!N(n.target)||(n.touches.length>1||(n.preventDefault&&n.preventDefault(),!1))},k=function(){void 0!==w&&(document.body.style.paddingRight=w,w=void 0),void 0!==j&&(document.body.style.overflow=j,j=void 0)},C=function(e,n){if(e){if(!b.some((function(n){return n.targetElement===e}))){var t={targetElement:e,options:n||{}};b=[].concat(function(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)}(b),[t]),g?(e.ontouchstart=function(e){1===e.targetTouches.length&&(x=e.targetTouches[0].clientY)},e.ontouchmove=function(n){1===n.targetTouches.length&&function(e,n){var t=e.targetTouches[0].clientY-x;!N(e.target)&&(n&&0===n.scrollTop&&t>0||function(e){return!!e&&e.scrollHeight-e.scrollTop<=e.clientHeight}(n)&&t<0?E(e):e.stopPropagation())}(n,e)},y||(document.addEventListener("touchmove",E,h?{passive:!1}:void 0),y=!0)):function(e){if(void 0===w){var n=!!e&&!0===e.reserveScrollBarGap,t=window.innerWidth-document.documentElement.clientWidth;n&&t>0&&(w=document.body.style.paddingRight,document.body.style.paddingRight=t+"px")}void 0===j&&(j=document.body.style.overflow,document.body.style.overflow="hidden")}(n)}}else console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.")};function S(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{isStateful:!0};const t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,[n,t]=o.useState(e);const{current:r}=o.useRef({current:n});return Object.defineProperty(r,"current",{get:()=>n,set:e=>{Object.is(n,e)||(n=e,t(e))}}),r}(null),r=(0,o.useRef)(null),a=n.isStateful?t:r;return o.useEffect((()=>{!e||("function"==typeof e?e(a.current):e.current=a.current)})),a}function A(){return A=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},A.apply(this,arguments)}var I=function(e){var n=e.classes,t=e.classNames,r=e.styles,a=e.id,s=e.closeIcon,i=e.onClick;return o.createElement("button",{id:a,className:f()(n.closeButton,null==t?void 0:t.closeButton),style:null==r?void 0:r.closeButton,onClick:i,"data-testid":"close-button"},s||o.createElement("svg",{className:null==t?void 0:t.closeIcon,style:null==r?void 0:r.closeIcon,width:28,height:28,viewBox:"0 0 36 36","data-testid":"close-icon"},o.createElement("path",{d:"M28.5 9.62L26.38 7.5 18 15.88 9.62 7.5 7.5 9.62 15.88 18 7.5 26.38l2.12 2.12L18 20.12l8.38 8.38 2.12-2.12L20.12 18z"})))},O="undefined"!==typeof window,P=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'];function T(e){return null===e.offsetParent||"hidden"===getComputedStyle(e).visibility}function R(e){if("INPUT"!==e.tagName||"radio"!==e.type||!e.name)return!0;var n=(e.form||e.ownerDocument).querySelectorAll('input[type="radio"][name="'+e.name+'"]'),t=function(e,n){for(var t=0;t<e.length;t++)if(e[t].checked&&e[t].form===n)return e[t]}(n,e.form);return t===e||void 0===t&&n[0]===e}function B(e){for(var n=document.activeElement,t=e.querySelectorAll(P.join(",")),o=[],r=0;r<t.length;r++){var a=t[r];(n===a||!a.disabled&&L(a)>-1&&!T(a)&&R(a))&&o.push(a)}return o}function L(e){var n=parseInt(e.getAttribute("tabindex"),10);return isNaN(n)?function(e){return e.getAttribute("contentEditable")}(e)?0:e.tabIndex:n}var M=function(e){var n=e.container,t=e.initialFocusRef,r=(0,o.useRef)();return(0,o.useEffect)((function(){var e=function(e){(null==n?void 0:n.current)&&function(e,n){if(e&&"Tab"===e.key){if(!n||!n.contains)return process,!1;if(!n.contains(e.target))return!1;var t=B(n),o=t[0],r=t[t.length-1];e.shiftKey&&e.target===o?(r.focus(),e.preventDefault()):!e.shiftKey&&e.target===r&&(o.focus(),e.preventDefault())}}(e,n.current)};if(O&&document.addEventListener("keydown",e),O&&(null==n?void 0:n.current)){var o=function(){-1!==P.findIndex((function(e){var n;return null==(n=document.activeElement)?void 0:n.matches(e)}))&&(r.current=document.activeElement)};if(t)o(),requestAnimationFrame((function(){var e;null==(e=t.current)||e.focus()}));else{var a=B(n.current);a[0]&&(o(),a[0].focus())}}return function(){var n;O&&(document.removeEventListener("keydown",e),null==(n=r.current)||n.focus())}}),[n,t]),null},D=[],q=function(e){D.push(e)},F=function(e){D=D.filter((function(n){return n!==e}))},U=function(e){return!!D.length&&D[D.length-1]===e};var W=function(e,n,t,r,a){var s=(0,o.useRef)(null);(0,o.useEffect)((function(){return n&&e.current&&r&&(s.current=e.current,C(e.current,{reserveScrollBarGap:a})),function(){var e;s.current&&((e=s.current)?(b=b.filter((function(n){return n.targetElement!==e})),g?(e.ontouchstart=null,e.ontouchmove=null,y&&0===b.length&&(document.removeEventListener("touchmove",E,h?{passive:!1}:void 0),y=!1)):b.length||k()):console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices."),s.current=null)}}),[n,t,e,r,a])},H={root:"react-responsive-modal-root",overlay:"react-responsive-modal-overlay",overlayAnimationIn:"react-responsive-modal-overlay-in",overlayAnimationOut:"react-responsive-modal-overlay-out",modalContainer:"react-responsive-modal-container",modalContainerCenter:"react-responsive-modal-containerCenter",modal:"react-responsive-modal-modal",modalAnimationIn:"react-responsive-modal-modal-in",modalAnimationOut:"react-responsive-modal-modal-out",closeButton:"react-responsive-modal-closeButton"};const K=o.forwardRef((function(e,n){var t,r,a,s,i=e.open,l=e.center,c=e.blockScroll,d=void 0===c||c,u=e.closeOnEsc,v=void 0===u||u,h=e.closeOnOverlayClick,p=void 0===h||h,g=e.container,b=e.showCloseIcon,y=void 0===b||b,x=e.closeIconId,j=e.closeIcon,w=e.focusTrapped,N=void 0===w||w,E=e.initialFocusRef,k=void 0===E?void 0:E,C=e.animationDuration,P=void 0===C?300:C,T=e.classNames,R=e.styles,B=e.role,L=void 0===B?"dialog":B,D=e.ariaDescribedby,K=e.ariaLabelledby,Y=e.containerId,G=e.modalId,z=e.onClose,Z=e.onEscKeyDown,$=e.onOverlayClick,_=e.onAnimationEnd,J=e.children,Q=e.reserveScrollBarGap,V=S(n),X=(0,o.useRef)(null),ee=(0,o.useRef)(null),ne=(0,o.useRef)(null);null===ne.current&&O&&(ne.current=document.createElement("div"));var te=(0,o.useState)(!1),oe=te[0],re=te[1];!function(e,n){(0,o.useEffect)((function(){return n&&q(e),function(){F(e)}}),[n,e])}(X,i),W(X,i,oe,d,Q);var ae=function(e){27===e.keyCode&&U(X)&&(null==Z||Z(e),v&&z())};(0,o.useEffect)((function(){return function(){oe&&(ne.current&&!g&&document.body.contains(ne.current)&&document.body.removeChild(ne.current),document.removeEventListener("keydown",ae))}}),[oe]),(0,o.useEffect)((function(){i&&!oe&&(re(!0),!ne.current||g||document.body.contains(ne.current)||document.body.appendChild(ne.current),document.addEventListener("keydown",ae))}),[i]);var se=function(){ee.current=!1},ie=g||ne.current,le=i?null!=(t=null==T?void 0:T.overlayAnimationIn)?t:H.overlayAnimationIn:null!=(r=null==T?void 0:T.overlayAnimationOut)?r:H.overlayAnimationOut,ce=i?null!=(a=null==T?void 0:T.modalAnimationIn)?a:H.modalAnimationIn:null!=(s=null==T?void 0:T.modalAnimationOut)?s:H.modalAnimationOut;return oe&&ie?m.createPortal(o.createElement("div",{className:f()(H.root,null==T?void 0:T.root),style:null==R?void 0:R.root,"data-testid":"root"},o.createElement("div",{className:f()(H.overlay,null==T?void 0:T.overlay),"data-testid":"overlay","aria-hidden":!0,style:A({animation:le+" "+P+"ms"},null==R?void 0:R.overlay)}),o.createElement("div",{ref:X,id:Y,className:f()(H.modalContainer,l&&H.modalContainerCenter,null==T?void 0:T.modalContainer),style:null==R?void 0:R.modalContainer,"data-testid":"modal-container",onClick:function(e){null===ee.current&&(ee.current=!0),ee.current?(null==$||$(e),p&&z(),ee.current=null):ee.current=null}},o.createElement("div",{ref:V,className:f()(H.modal,null==T?void 0:T.modal),style:A({animation:ce+" "+P+"ms"},null==R?void 0:R.modal),onMouseDown:se,onMouseUp:se,onClick:se,onAnimationEnd:function(){i||re(!1),null==_||_()},id:G,role:L,"aria-modal":"true","aria-labelledby":K,"aria-describedby":D,"data-testid":"modal",tabIndex:-1},N&&o.createElement(M,{container:V,initialFocusRef:k}),J,y&&o.createElement(I,{classes:H,classNames:T,styles:R,closeIcon:j,onClick:z,id:x})))),ie):null}));var Y=t(75985),G=t(72232),z=t(80184);const Z=(0,r.$j)((e=>({errorMessage:e.auth.errorMessage,successMessage:e.auth.successMessage,showLoading:e.auth.showLoading})))((function(e){(0,o.useRef)();const n=(0,o.useRef)(),[t,m]=(0,o.useState)(!0);let v={email:"",password:""};const[f,h]=(0,o.useState)(v),[p,g]=(0,o.useState)(""),[b,y]=(0,o.useState)(""),[x,j]=(0,o.useState)(!0),[w,N]=(0,o.useState)(!1),[E,k]=(0,o.useState)(!1),[C,S]=(0,o.useState)(""),[A,I]=(0,o.useState)("00:00:45"),O=(0,r.I0)(),P=(0,a.s0)(),T=(0,G.ZP)(),[R,B]=(0,o.useState)({seconds:45}),L=e=>{e.persist(),e.preventDefault(),T("POST","/auth/validate-otp",{email:p,otp:C}).then((e=>{(0,Y.Am)("OTP is Accepted"),localStorage.setItem("adminEmail",p),setTimeout((()=>{var e;null===n||void 0===n||null===(e=n.current)||void 0===e||e.click()}),100)})).catch((e=>{(0,Y.Am)("OTP is Incorrect")})),console.log(C)};let M=document.querySelector("body").getAttribute("data-theme-version");return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(Y.Ix,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),(0,z.jsx)(s.rU,{ref:n,to:"/reset-password"}),(0,z.jsx)("div",{className:"container h-100",children:(0,z.jsx)("div",{className:"row h-100 align-items-center justify-contain-center",children:(0,z.jsx)("div",{className:"col-xl-12",children:(0,z.jsxs)("div",{className:"card",children:[E&&(0,z.jsx)(K,{onClose:()=>{console.log("hi"),k((e=>!e))},open:E,styles:{closeIcon:{position:"absolute",top:"3%",right:"4%"},modal:{zIndex:"10001",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%,-50%)",maxWidth:"unset",minWidth:"35%",background:"#fff",padding:"unset",borderRadius:"1rem"},overlay:{background:"rgba(0, 0, 0, 0.5)"},closeButton:{background:"white"}},center:!0,children:(0,z.jsxs)("div",{className:"main p-5",children:[(0,z.jsx)("div",{className:"heading",children:(0,z.jsx)("h4",{children:"One time Password (OTP) verification"})}),(0,z.jsx)("div",{className:"info",children:"An OTP has been sent to your registered email address."}),(0,z.jsx)("div",{className:"py-3",children:(0,z.jsxs)("div",{className:"form-group",children:[(0,z.jsxs)("div",{class:"input-group mb-3",children:[(0,z.jsx)("input",{type:"text",class:"form-control",placeholder:"Email","aria-label":"Recipient's username","aria-describedby":"basic-addon2",value:p,onChange:e=>g(e.target.value)}),(0,z.jsx)("div",{class:"input-group-append",children:(0,z.jsx)("button",{class:"btn btn-outline-success",type:"button",onClick:function(e){null===e||void 0===e||e.preventDefault(),T("PATCH","/auth/resend-otp",{email:p}).then((()=>{B({seconds:45}),m(!0),Y.Am.success("A new OTP send to your email")})).catch((e=>{(0,Y.Am)(e.data.errors[0].error)}))},children:"Submit"})})]}),(0,z.jsxs)("div",{class:"input-group mb-3",children:[(0,z.jsx)("input",{type:"text",class:"form-control",placeholder:"OTP","aria-label":"Recipient's username","aria-describedby":"basic-addon2",value:C,onKeyUp:e=>"Enter"==e.key&&L(e),onChange:e=>S(e.target.value)}),(0,z.jsx)("div",{class:"input-group-append",children:(0,z.jsx)("button",{class:"btn btn-outline-success",type:"button",onClick:L,children:"Submit"})})]}),(0,z.jsx)("div",{className:"d-flex justify-content-between"})]})})]})}),(0,z.jsx)("div",{className:"card-body p-0",children:(0,z.jsxs)("div",{className:"row m-0",children:[(0,z.jsx)("div",{className:"col-xl-6 col-md-6 sign text-center sign-bg",style:{backgroundImage:"url("+d+")"},children:(0,z.jsxs)("div",{children:[(0,z.jsx)("div",{className:"text-center my-5",children:(0,z.jsx)(s.rU,{to:"#",children:(0,z.jsx)("img",{className:"logo-abbr dark-logo",width:"200",src:u,alt:""})})}),"light"===M?(0,z.jsx)("img",{src:c,className:"slideskew img-fix bitcoin-img"}):(0,z.jsx)("img",{src:c,className:" slideskew img-fix bitcoin-img "})]})}),(0,z.jsx)("div",{className:"col-xl-6 col-md-6",children:(0,z.jsxs)("div",{className:"sign-in-your px-2",children:[(0,z.jsx)("h4",{className:"fs-20 mb-4",children:"Sign in your account"}),(0,z.jsx)("span",{children:"Welcome back! Login with your data "}),(0,z.jsx)("div",{className:"login-social",style:{marginBottom:"3rem"}}),e.errorMessage&&(0,z.jsx)("div",{className:"bg-red-300 text-red-900 border border-red-900 p-1 my-2",children:e.errorMessage}),e.successMessage&&(0,z.jsx)("div",{className:"bg-green-300 text-green-900 border border-green-900 p-1 my-2",children:e.successMessage}),(0,z.jsxs)("form",{onSubmit:function(e){e.preventDefault();let n=!1;const t={...v};if(""===p&&(t.email="Email is Required",n=!0),""===b&&(t.password="Password is Required",n=!0),h(t),n)return;let o="";o=x?"/sub-admin/login":"/auth/login",O((0,i._l)(!0)),O((0,i.y)(o,p,b,P))},children:[(0,z.jsxs)("div",{className:"mb-3",children:[(0,z.jsx)("label",{className:"mb-1",children:(0,z.jsx)("strong",{children:"Email"})}),(0,z.jsx)("input",{type:"email",className:"form-control",value:p,onChange:e=>g(e.target.value),placeholder:"Type Your Email Address"}),f.email&&(0,z.jsx)("div",{className:"text-danger fs-12",children:f.email})]}),(0,z.jsxs)("div",{className:"mb-3",style:{position:"relative"},children:[(0,z.jsx)("label",{className:"mb-1",children:(0,z.jsx)("strong",{children:"Password"})}),(0,z.jsx)("input",{type:w?"text":"password",className:"form-control",value:b,placeholder:"Type Your Password",onChange:e=>y(e.target.value),onClick:()=>N((e=>!e))}),(0,z.jsx)("div",{id:"pasToggle",style:{cursor:"pointer"},onClick:()=>N((e=>!e)),children:(0,z.jsx)(l.dSq,{style:{position:"absolute",top:"37",right:"10",font:"1.3rem"}})}),f.password&&(0,z.jsx)("div",{className:"text-danger fs-12",children:f.password})]}),(0,z.jsxs)("div",{className:"row d-flex justify-content-between mt-4 mb-2",children:[(0,z.jsx)("div",{className:"mb-3"}),(0,z.jsx)("div",{className:"form-group mb-3",children:(0,z.jsx)("div",{className:"form-check form-check-inline",children:(0,z.jsxs)("label",{className:"form-check-label",children:[(0,z.jsx)("input",{type:"checkbox",className:"form-check-input",value:x,onChange:e=>j((e=>!e))}),"Super-Admin"]})})})]}),(0,z.jsx)("div",{className:"text-center mb-4 ",children:(0,z.jsx)("button",{type:"submit",className:"btn btn-primary btn-block",children:"Sign Me In"})}),(0,z.jsx)("div",{className:"mb-3",onClick:()=>{k((e=>!e))},children:(0,z.jsx)("span",{children:"Forgot Password"})})]})]})})]})})]})})})})]})}))}}]);
//# sourceMappingURL=493.e2a2a9b2.chunk.js.map